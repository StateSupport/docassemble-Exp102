---
include:
  - docassemble.AssemblyLine:assembly_line.yml
---
modules:
  - docassemble.AssemblyLine.al_courts
---
metadata:
  title: |
    Notice of Hearing and Petition for Expungement
  short title: |
    Petition for Expungement
  tags:
    - Other
  authors:
    - Minnesota Courts
---
mandatory: True
comment: |
  Global interview metadata
variable name: interview_metadata["EXP102"]
data:
  al_weaver_version: "1.7.0"
  generated on: "2022-08-26"
  title: >-
    Notice of Hearing and Petition for Expungement
  short title: >-
    Petition for Expungement
  description: |-
    Use this form to ask the court for a criminal record expungement.
  original_form: >-
    https://www.mncourts.gov/GetForms.aspx?c=14&f=207
  allowed courts: 
    - "District Court"
  categories:
    - "Criminal Expungement"
  typical role: "defendant"
  generate download screen: True
---
code: |
  interview_metadata['main_interview_key'] =  'EXP102'
---
code: |
  # This controls the default country and list of states in address field questions
  AL_DEFAULT_COUNTRY = "US"
---
code: |
  # This controls the default state in address field questions
  AL_DEFAULT_STATE = "MN"
---
code: |
  github_repo_name =  'docassemble-Exp102'
---
code: |
  interview_short_title = "Ask the court for criminal record expungement"
---
code: |
  al_form_type = "starts_case" 
---
objects:
  - defendant: Individual
  - users: ALPeopleList.using(ask_number=True,target_number=1)
  - users_other: ALPeopleList
  - location: |  
        DAList.using(object_type=Address,complete_attribute='complete',there_are_any=True)
  - alias_name: |
      DAList.using(object_type=Individual,there_are_any=True)
  - criminal_history: |
      DAList.using(object_type=Thing,complete_attribute='complete',there_are_any=True)
  - victim_info: |
      DAList.using(object_type=Individual,complete_attribute='complete',there_are_any=True)
  - the_courts: ALCourtLoader.using(filename="Courts.xlsx")
---
sections:
  - EXP102_intro: Introduction
  - i_understand: Instructions
  #- defendant_name: Personal Information
  - defendant_name: Name
  - other_name: Additional Names
  - birthdate: Birthdate
  - notice_of_hearing: Notice of Hearing
  - county_of_residence: County of Residence
  - address: Address
  - prior_address: Address History
  - reason_for_expungement: Reason for Expungement
  - prior_record: Criminal History
  - prior_expungement_requests: Prior Expungement Requests
  - qualify_because: Qualify for Expungement
  - offense_to_expunge: Offense Expunging
  - victim_info: Victim Information
  - is_ofp: Protective Order
  - personal_improvement: Personal Rehabilitation
  - additional_requests: Additional Requests
  - filing_court: Filing Court
  - contact_info: Contact Information
  #- review_EXP102: Review your answers
---
#################### Interview order #####################
comment: |
  Controls order and branching logic for questions specific to this form
id: interview_order_EXP102
features:
  progress bar: True
  show progress bar percentage: True
  progress bar method: default
code: |
  # Set the allowed courts for this interview
  nav.set_section('review_EXP102')
  user_role = 'defendant'
  EXP102_intro
  Instructions
  defendent_name
  if other_name == False:
    birthdate
  if other_name == True:
    alias_name.gather()
  birthdate
  trial_court_county_1
  hearing_type
  if "'hearing_type_zoom' in hearing_type":
    zoom_id
  #this is still taking me to the zoom details page. need to fix this second part of the logic.
  elif "'hearing_type_in_person' in hearing_type":
    trial_court_address_on_one_line
  #if hearing_type_in_person == True:
  #  courtroom number
  county_of_residence
  #the_county
  users[0].address.address
  if prior_address == False:
    reason_for_expungement
  if prior_address == True:
    location.gather()
  reason_for_expungement
  if prior_record == False:
    prior_expungement_requests
  if prior_record == True: 
    criminal_history.gather()
  prior_expungement_requests
  qualify_because
  offense_to_expunge
  if identifiable_victim == False:
    protective_order
  if identifiable_victim == True:
    victim_info.gather()
  protective_order
  personal_improvement
  additional_requests
  my_court
  the_county
  display_court
  #court_county
  #division
  #court_code
  #test
  #show_display_court
  #users_other[0]
  #docket_number
  #signature_date
  #users[0].phone_number
  #users[0].email
  contact_info
  interview_order_EXP102 = True
---
###################### Main order ######################
comment: |
  This block includes the logic for standalone interviews.
  Delete mandatory: True to include in another interview
mandatory: True
code: |
  al_intro_screen
  EXP102_intro
  interview_order_EXP102
  signature_date
  # Store anonymous data for analytics / statistics
  store_variables_snapshot(
      persistent=True,
      data={
          "zip": showifdef("users[0].address.postal_code"),
          "reached_interview_end": True,
      },
  )
  EXP102_preview_question
  basic_questions_signature_flow    
  users[0].signature
  EXP102_Notice_of_Hearing_and_Petition_for_crim_expungement_download
---
comment: |
  This question is used to introduce your interview. Please customize
id: Notice_of_Hearing_and_Petition_for_Expungement
continue button field: EXP102_intro
question: |
  IMPORTANT!
subquestion: |
  Read the Instructions on the next page carefully before completing this form. 
  
  Filing to expunge a criminal record is a complicated procedure. If you have any questions or are in   need of more assistance, you should <a href="https://mncourts.gov/Help-Topics/Find-a-Lawyer.aspx" title="Find a Lawyer">Find a Lawyer.</a> The court administrator’s office cannot give you legal advice. 

  You may also want to view the “What is Criminal Expungement” video, as well as the tutorial on how to complete the expungement forms. These materials are available on the Minnesota Judicial Branch website at <a href="https://www.mncourts.gov/" title="https://www.mncourts.gov">www.mncourts.gov</a> under HelpTopics / Criminal Expungement. Contact a <a href="https://www.mncourts.gov/selfhelp" title="Self-Help Center">Self-Help Center</a> if you have questions about these instructions or the criminal expungement process. 
section: EXP102_intro
---
id: Instructions
continue button field: Instructions
question: |
  Instructions
subquestion: |
  #EXPUNGEMENT OR SEALING OF A RECORD – WHAT IT MEANS

  <a href="https://www.revisor.mn.gov/statutes/cite/609A" title="https://www.revisor.mn.gov/statutes/cite/609A">Minn. Stat. ch. 609A</a> (revisor.mn.gov/statutes/cite/609A) states that the expungement of criminal records is limited to a court order sealing records and prohibiting disclosure of their existence or their opening except under court order or statutory authority. Nothing in the law authorizes destruction of records or their return to you. A judicial officer must decide this petition.
  
  Once sealed/expunged, a record will not be available to the general public. However, for orders issued before January 1, 2015, <a href="https://www.revisor.mn.gov/statutes/cite/609A.03#stat.609A.03.7" title="https://www.revisor.mn.gov/statutes/cite/609A.03#stat.609A.03.7">Minn. Stat. § 609A.03, subd. 7</a> (revisor.mn.gov/statutes/cite/609A.03), states that law enforcement agencies, prosecution or correctional authorities, may seek an order signed by a judicial officer to re-open a sealed case for the purpose of a criminal investigation, prosecution or sentencing. The records may be opened for the purposes of evaluating a prospective employee of a criminal justice agency, without a court order, pursuant to Minn. Stat. § 609A.03, subd. 7, or for certain social services licensing purposes. For orders issued on or after January 1, 2015, Minn. Stat. § 609A.03, subd. 7a, states the limitations of an expungement order and provides authority for certain agencies to access and share expunged records under certain circumstances.
  
  #YOU MAY QUALIFY FOR AN EXPUNGEMENT UNDER MINNESOTA STATUTE ch. 609A IF: 
  
  - The charges were dismissed, you were found not guilty, or the case did not otherwise result in a guilty plea or finding, or a conviction.

  - You successfully completed the terms of a diversion or stay of adjudication, or were convicted of a crime that qualifies for expungement under <a href="https://www.revisor.mn.gov/statutes/cite/609A.02#stat.609A.02.3" title="https://www.revisor.mn.gov/statutes/cite/609A.02#stat.609A.02.3">Minn. Stat. § 609A.02, subd. 3</a> (revisor.mn.gov/statutes/cite/609A.02), and the required amount of time has passed.
  
  - You were charged with a controlled substance offense - the proceedings have been dismissed and discharged.
  - You were a juvenile prosecuted as an adult.
  - The Board of Pardons has granted you a pardon extraordinary.
  
  In the situations listed above, the court can order all records of that criminal case kept in Minnesota to be sealed. If there is no court file (the prosecutor did not file formal charges or the grand jury did not file an indictment) and you have not been convicted of any felony or gross misdemeanor in any state for the preceding 10 years, a petition to the court is not necessary to expunge your arrest record. You should contact the arresting agency and/or the BCA [<a href="https://www.revisor.mn.gov/statutes/cite/299C.11#stat.299C.11.1" title="https://www.revisor.mn.gov/statutes/cite/299C.11#stat.299C.11.1">Minn. Stat. § 299C.11, subd. 1(b)</a>, revisor.mn.gov/statutes/cite/299C.11].
  
  If you were convicted in any other situation, your case does not meet the criteria under <a href="https://www.revisor.mn.gov/statutes/cite/609A" title="https://www.revisor.mn.gov/statutes/cite/609A">Minn. Stat. ch. 609A</a> (revisor.mn.gov/statutes/cite/609A). Expungement of a conviction not meeting the 609A criteria is possible, but rare and can only be granted for the court’s records. Records of your arrest and prosecution held by the police, sheriff’s office, prosecutors and the BCA would not be affected by such an expungement order. Certain crimes can be expunged only if you can convince the court that you have made changes in your life that demonstrate you are very unlikely to commit another crime, and that the benefit to you from an expungement outweighs the burden of sealing the records.
  
  To request expungement of a conviction not meeting the 609A criteria, check the last box of item #9 of the Petition which states “I was convicted of an offense that does not qualify for expungement under Minn. Stat. § 609A.02, subd. 3, but I have rehabilitated myself. The benefit to me outweighs the disadvantage to the public and the burden on the court.” An order expunging a conviction under these circumstances may provide only for expungement of the record held by state courts and may not expunge records held by state or local law enforcement and prosecution agencies. 
  
  Helpful materials may be found at your public county law library. For a directory, see <a href="http://mn.gov/law-library/research-links/county-law-libraries.jsp" title="http://mn.gov/law-library/research-links/county-law-libraries.jsp">http://mn.gov/law-library/research-links/county-law-libraries.jsp</a>. For more information, contact your court administrator or call the Minnesota State Law Library at 651-297-7651.
  
  #PROCEDURES FOR EXPUNGEMENTS
  
  ##<b>A. COMPLETELY FILL OUT A SEPARATE PETITION AND ORDER FOR EACH CASE YOU WANT EXPUNGED:</b>
  
  ###<u>1. NOTICE OF HEARING AND PETITION FOR EXPUNGEMENT</u>

  You must fill out this document completely and sign your name. IT IS MANDATORY that you list all prior and pending criminal charges in this or any other state on this petition as well as any stays of adjudication, continuances forPetitioner’s Instructions for Expungement of Criminal Records EXP101 State ENG Rev 8/22 www.mncourts.gov/forms Page 3 of 7 dismissal, or pretrial diversions in any jurisdiction. If you are unsure about your court records, all Minnesota counties have public access terminals where you may look up your case information. The Minnesota Bureau of Criminal Apprehension (BCA) will provide a printed record for a fee. You may contact the BCA at 651-793-2400 for more information.

  Obtain a hearing date from Court Administration to be inserted in the notice. This date must be more than 60 days from the date notice is mailed plus 3 days for mailing.

  ###<u>2. PROPOSED ORDER TO EXPUNGE CRIMINAL RECORDS</u>

  You must complete a separate order for each case that you want expunged. There are three types of orders (court form EXP105, court form EXP106, or court form EXP107). Use the one appropriate to your situation, as indicated on the petition (court form EXP102).
  
  ###<u>3. REQUEST FOR WAIVER OF FILING FEE—IN FORMA PAUPERIS (IFP)</u>
  
  If you are not requesting expungement of an action or proceeding that was resolved in your favor, and you will be seeking waiver of the filing fee, additional papers need to be completed. See section D to see if you qualify for fee waiver. You will need to ask for a waiver form (IFP) specifically. Fee waiver forms are available at <a href="https://mncourts.gov/GetForms.aspx?c=19&p=69" title="https://mncourts.gov/GetForms.aspx?c=19&p=69">https://mncourts.gov/GetForms.aspx?c=19&p=69</a>. You will have to provide financial information to have the court determine whether you qualify to have the fee waived. The fee or the order waiving the fee must be submitted when the petition is filed.
  
  ##<b>B. MAKE COPIES OF THE COMPLETED FORMS YOU WILL NEED FOR SERVICE ON EACH AGENCY AND THEIR ATTORNEYS.</b>
  
  <a href="https://www.revisor.mn.gov/statutes/cite/609A.03#stat.609A.03.3" title="https://www.revisor.mn.gov/statutes/cite/609A.03#stat.609A.03.3">Minn. Stat. § 609A.03, subd. 3</a> (revisor.mn.gov/statutes/cite/609A.03), requires that a Notice of Hearing and Petition and unsigned proposed expungement order on ALL state and local agencies and their attorneys that might have a record of the offense you want to expunge. Most people need to serve <b>at least 6 agencies</b>; for example, the Minnesota Bureau of Criminal Apprehension, the Attorney General’s Office, the local police department, the prosecuting attorney, the sheriff’s department, county attorney, and county department of corrections (probation).
  
  Items to copy and serve:
  
  1. Notice of Hearing and Petition( with the scheduled hearing date completed)
  2. The unsigned proposed Order you are seeking to have the judicial officer issue.Petitioner’s Instructions for Expungement of Criminal Records EXP101 State ENG Rev 8/22 www.mncourts.gov/forms Page 4 of 7
  
  <b>IMPORTANT!</b> Get legal advice about serving <b>OTHER</b> agencies such as the MN Dept. of Human Services (regulates employment in health care, education, day care, foster care, etc.) or licensing agencies (for teaching, nursing, real estate, etc.) Depending on your situation, serving those agencies may or may not be in your best interest.
  
  ##<b>C. PROCESS FOR SERVICE</b>

  You are responsible to see that service is done properly. Court staff cannot serve the documents for you. Service can be done by another adult, or by you. The server must mail a copy of all required documents and fill out the Proof of Service. Service must be complete at least 63 days before the scheduled hearing date.
  
  ###1. Fill out these parts of the <i>Proof of Service</i> form:

  Get a <b>separate</b> <i>Proof of Service</i> form for <b>each court case</b> you want to expunge. <b><i>Example:</b></i> If you want to expunge 3 different court cases, you must prepare a separate <i>Proof of Service</i> form for each case, for a total of 3 service forms. 
  
  <b>YOU</b> must fill in the blanks for the <b>government agency addresses</b> on the <i>Proof of Service</i> form. Write the County name and the City name where the offense happened (or where you were arrested), and write the address for each local government agency related to that case. If you decide to serve the MN Dept. of Human Services and/or Dept. of Health, check the box next to their address listed on the form. If you are serving other agencies, write their names and addresses in the extra spaces on the form and check those boxes.

  Using the <b>same court information</b> from your criminal case, you must fill in the blanks at the top of the <i>Proof of Service</i> form with the County, Judicial District and Court File Number. <b>STOP!</b> The server must fill out the other blanks on the form. See #3 below called <b>“How the server must complete the <i>Proof of Service</i> form.”</b>

  ###2. Get copies of your expungement papers ready to be served.

  Your expungement papers can be <b><u>served by first class U.S. mail.</b></u> Copies of the <i>Proof of Service</i> do <b><u>not</b></u> have to be mailed to the government agencies.
  
  ####<b>STEP 1: Make copies of your completed <i>Petition</i> and proposed <i>Order</i></b>.

  Make one copy of your completed <i>Petition</i> (and any attachments) and proposed <i>Order</i> for <b><u>each government agency</b></u>, and make one copy for yourself. Copies can be doublesided to save on cost. <b><i>Example:</b></i> If you are serving 8 agencies checked in your <i>Proof of Service</i>, you need to make 9 copies of your papers (1 for each agency + 1 for you). 
  
  Do not count your ORIGINALS as a “copy” in the total. <b>Keep the ORIGINAL <i>Petition</i> and proposed <i>Order</i></b> to file with the court as soon as possible after service of your papers is complete. 
  
  ####<b>STEP 2: Address an envelope for <u>each</u> government agency checked on your <i>Proof of Service</i> form.</b>
  
  If you want to expunge only one case, a set of copies should fit into a regular businesssize envelope. You need larger envelopes to hold expungement papers for two or more cases. Most people need at least <b><u>6 envelopes</b></u>, or more if they serve a City Attorney and regulatory/licensing agencies. You should write <b><u>your return address</b></u> on the envelopes. 
  
  <b>NOTE:</b> If you want to expunge more than one case in the <b><u>same County</b></u>, you can put copies for each case into the same envelope addressed to a government office. <b><i>Example:</b></i> If you are asking to expunge 5 cases, you can put a set of copies for each case into one large envelope addressed to the BCA; then do the same for the other government agencies. <b>STOP!</b> If any of the 5 offenses happened in <b><u>different cities</b></u> within the County, be sure to serve the correct copy of <b>expungement</b> papers on the correct <b><u>local</b></u> government agencies (police & prosecutor) where <b>each</b> offense happened.

  ####<b>STEP 3: Add enough postage to each envelope to send by 1st class U.S. Mail.</b>

  The amount of postage you need depends on the number of pages in each envelope. It’s a good idea to weigh your envelopes at a Post Office, and buy the correct postage. You <b><u>do not</b></u> need to use “certified” or “return receipt” mail. <b>STOP!</b> <b><u>Do not</b></u> let a Post Office employee put the envelopes in the mailbox!

  ####<b>STEP 4: The server mails the envelopes.</b>

  The server puts your envelopes in a U.S. mailbox and follows the instructions below to complete the <i>Proof of Service</i> form.

  ####<b>STEP 5: After mailing, the server must complete the <i>Proof of Service</i> form.</b>

  When the form is completed, you will file it with the court.

  ###3. How the server must complete the <i>Proof of Service</i> form.

  <b><u>AFTER</b></u> the server places your envelopes in a U.S. mailbox, the server must fill out the blanks on the <i>Proof of Service</i> form as follows:
  
  - write in the name of the <b>County</b> where the <i>Proof of Service</i> form is <b>signed</b> (can be different from where case is filed);
  - write <b>the server’s name</b> in the blank for the person who mailed the envelopes;
  - write the <b>date</b> they mailed the envelopes. This date must be <b><u>at least 63 days</u> BEFORE</b> the hearing date; 
  - write in the name of the <b>City</b> where they mailed the envelopes; and
  - <b>sign</b> the <i>Proof of Service</i>.

  If another adult served for you, then after completing these steps, they should give the signed <i>Proof of Service</i> form <b>back to YOU</b>.
  
  ##<b>D. FILING THE PAPERWORK WITH DISTRICT COURT</b>

  After copies of the documents have been served on all required agencies and their attorneys, the Notice of Hearing and Petition for Expungement, the proposed order along with written proof (Proof of Service) that all agencies have been served must be filed with the court administrator’s office. File your documents as soon as you have completed the service process.
  
  - A filing fee <u>is not required</u> for cases that were “resolved in your favor.” This means no filing fee is required if you were not convicted, were not found guilty, and did not plead guilty in the case, or you were exonerated under Minn. Stat. § 590.11. If the case was “resolved in your favor,” inform court personnel that the filing fee is waived by statute.
  - A filing fee <u>is required</u> for cases in which you were convicted or where you were found guilty by the court or entered a guilty plea, even if you were not convicted or the conviction was later vacated. 
  
  Check with the court administrator in the county where you are filing for the correct filing fee amount. If you do not qualify for fee waiver under statute, you may ask the court to waive the filing fee by completing a form called “Affidavit for Proceeding In Forma Pauperis” and following the instructions given to you by court personnel.

  Write the <b><u>court date and time</b></u> on your calendar! The court may not send you a reminder. If you don’t go to your hearing, you might have to start over from the beginning.
  
  ##<b>E. AGENCY OPPORTUNITY TO OBJECT</b>

  Each agency that you serve with the petition and proposed order has an opportunity to provide information to the court for its consideration of your request. If an agency chooses to provide information to the court, it must send you a copy of what it submits and will use the address you list in the petition.Petitioner’s Instructions for Expungement of Criminal Records EXP101 State ENG Rev 8/22 www.mncourts.gov/forms Page 7 of 7

  ##<b>F. THE COURT HEARING</b>

  You must appear at the hearing. Bring your copies of the documents along with you to court for your own reference. The original documents should already be in the court file.

  At the hearing, the judicial officer will review your petition and any attachments you have submitted. The judicial officer will also consider any information presented by the prosecutor, any of the various government agencies and any victim. A victim has the right to submit an oral or written statement to the court. You may be required to testify and be cross examined by attorneys for any agency or office that opposes your request.

  The judicial officer may not make a decision at the time of the hearing and may or may not grant the expungement. The judicial officer may sign the proposed order that you have provided (granting or denying your request) or may prepare his or her own order. The judicial officer may deny expungement if your request does not meet the necessary qualifications even if no one objects.

  When the order is signed, the court administrator's office will send a copy of the order to all the agencies named in the order to receive notice. If your request was granted, these agencies have 60 days to appeal the order. Your record remains public during this period, while any appeal is pending, and while any financial obligation owed on the case remains unpaid. Any party whose records will be affected by the order may file an appeal to the Minnesota Court of Appeals. If an appeal is filed, you will be responsible for representing yourself or retaining an attorney to represent you. If no appeal is filed, and you do not owe any financial obligation, the record will be sealed 60 days after the filing of the order. It is a good idea to obtain a certified copy of this order for your own records. A certified copy fee will be charged unless you have an in forma pauperis (IFP) order.

  <b>REMINDER: CONTACT AN ATTORNEY IF YOU NEED MORE ASSISTANCE.</b>
fields:
  - I have read and understand the instructions above: i_understand
    datatype: checkboxes
    none of the above: False    
    minlength: 1
    choices:
      - I understand and wish to continue
    validation messages:
      minlength: |
        You cannot continue unless you confirm that you have read the information above.  
section: i_understand
#continue button field: Instructions
---
id: Defendent Name
Continue button field: defendent_name
sets:
    - users[0].name.first
    - users[0].name.last
    - users[0].name.middle
    - users[0].name.suffix
question: |
  What is your name?
fields:
  - code: |
      users[0].name_fields()
section: defendant_name
---
on change: 
  alias_name: |
    for item in alias_name.complete_elements():
      item.invalidate_attr('alias_name')
    alias_name.reset_gathered(mark_incomplete=True)
---
id: Defendent alias name
question: |
  Have you gone by any other names?
yesno: other_name
section: other_name
---
question: |
  What is the ${ ordinal(i) } of your additional names?
fields:
  - First Name: alias_name[i].name.first
  - Last Name: alias_name[i].name.last
---
question: |
  Do you have any others to add?
yesno: alias_name.there_are_any
---
question: |
  Would you like to add another name?
yesno: alias_name.there_is_another
---
id: Birthdate
Continue button field: birthdate
question: |
  What is your birthdate?
fields:
  - "Birthdate": users[0].birthdate
    datatype: BirthDate
    max: ${ today() }
section: birthdate
---
id: Notice of Hearing
continue button field: notice_of_hearing
question: |
  Notice of Hearing
subquestion: |
  Notice To Law Enforcement/Government Agency/Prosecutor: Any objection to expungement in this case   shall be filed with the court as soon as possible, and within 60 days.
  
  You can obtain a hearing date from Court Administration to be inserted in this notice. This date must be more than 60 days from the date notice is mailed plus 3 days for mailing. 
fields:
   - "County": trial_court_county_1
     code: sorted(the_courts.county_list())
     maxlength: 37
   - "Judicial District": trial_court_district
     hint: e.g. 1st
     help: |
       There are 10 judicial districts in Minnesota.
       **1st**: McLeod, Sibley, Carver, Scott, Dakota, Le Sueur, Goodhue
       **2nd**: Ramsey    
       **3rd**: Rice, Waseca, Steele, Dodge, Olmsted, Wabasha, Winona, Freeborn, Mower, Fillmore, Houston
       **4th**: Hennepin
       **5th**: Lincoln, Lyon, Redwood, Brown, Nicollet, Pipestone, Murray, Cottonwood, Watonwan, Blue Earth, Rock, Nobles, Jackson, Martin, Faribault
       **6th**: St. Louis, Lake, Cook, Carlton
       **7th**: Clay, Becker, Otter Tail, Wadena, Douglas, Todd, Morrison, Mille Lacs, Stearns, Benton
       **8th**: Wilkin, Grant, Traverse, Big Stone, Stevens, Pope, Swift, Lac qui Parle, Kandiyohi, Chippewa, Meeker, Yellow Medicine, Renville
       **9th**: Kittson, Roseau, Lake of the Woods, Marshall, Beltrami, Koochiching, Pennington, Red Lake, Poke, Clearwater, Norman, Mahnomen, Hubbard, Cass, Itasca, Crow Wing, Aitkin
       **10th**: Pine, Kanabec, Sherburne, Isanti, Chisago, Anoka, Wright, Washington
     maxlength: 21
   - "Court File Number": docket_number
     maxlength: 21
   - "Hearing date": hearing_date
     datatype: date
   - "Hearing time": hearing_time
     choices:
       - 08:00 
       - 08:15 
       - 08:30 
       - 08:45 
       - 09:00 
       - 09:15 
       - 09:30 
       - 09:45 
       - 10:00 
       - 10:15 
       - 10:30 
       - 10:45 
       - 11:00 
       - 11:15 
       - 11:30 
       - 11:45 
       - 12:00 
       - 12:15 
       - 12:30 
       - 12:45 
       - 01:00 
       - 01:15 
       - 01:30 
       - 01:45 
       - 02:00 
       - 02:15 
       - 02:30 
       - 02:45 
       - 03:00 
       - 03:15 
       - 03:30 
       - 03:45 
       - 04:00 
       - 04:15 
       - 04:30 
   - "a.m./p.m.": am_pm
     datatype: checkboxes
     choices:
       - a.m.
       - p.m.
     minlength: 1
   #- "The hearing will be held:": hearing_type
   #  datatype: checkboxes
   #  choices:
   #    - By Zoom
   #    - In person
   #  minlength: 1
section: notice_of_hearing
---
id: hearing_type
question: |
  The hearing will be:
fields:
  - no label: hearing_type
    datatype: checkboxes
    choices:
      - By Zoom: hearing_type_zoom
      - In Person: hearing_type_in_person
    none of the above: False
---
id: zoom_details
question: |
  Zoom Hearing Details
subquestion: |
  Please enter the details for your Zoom hearing.
fields:
  - Zoom Meeting ID: zoom_id
    datatype: text
    show if: 
      code: "'hearing_type_zoom' in hearing_type"
  - Passcode: zoom_passcode
    datatype: text
    show if: 
      code: "'hearing_type_zoom' in hearing_type"
---
id: in_person_details
question: |
  In-Person Hearing Details
subquestion: |
  Please enter the details for your in-person hearing.
fields:
  - Courthouse Address: trial_court_address_on_one_line
    datatype: text
    show if: 
      code: "'hearing_type_in_person' in hearing_type"
  - Courtroom Number: courtroom_number
    datatype: text
    show if: 
      code: "'hearing_type_in_person' in hearing_type"
---
id: County
question: |
  What county do you live in?
fields:
  - Pick a county: county_of_residence
    code: sorted(the_courts.county_list())
section: county_of_residence
---
id: Current Address
continue button field: address
sets:
  - users[0].address.address
  - users[0].address.city
  - users[0].address.zip
  - users[0].address.unit
  - users[0].address.state
  - users[0].address.country
question: |
  What is your current address?
fields:
  - code: |
      users[0].address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
section: address
---
code: |
  location[i].address
  location[i].unit
  location[i].city
  location[i].state
  location[i].zip
  location[i].complete = True
---
id: Prior Address
question: |
  Do you have any prior addresses to add?
yesno: prior_address
---
id: this block appears to do nothing..
question: |
  Do you have any prior addresses to add?
yesno: location.there_are_any
---
question: |
  What is the address of the
  ${ ordinal(i) } location?
fields:
  - Address: location[i].address
    address autocomplete: True
  - Unit: location[i].unit
    required: False
  - City: location[i].city
  - State: location[i].state
    code: |
      states_list()
  - Zip: location[i].postal_code
    required: False
---
question: |
  Would you like to add another location?
yesno: location.there_is_another
section: prior_address
---
id: Reason for Expungement
Continue button field: reason_for_expungment
question: |
  I am seeking expungement because: 
subquestion: |
  Include whether expungement is sought for employment, housing, or licensure purposes, the statutory or other legal authority under which expungement is sought, and state in   detail and with specifics why expungement should be granted.
fields:
  - "no label": reason_for_expungement
    input type: area
section: reason_for_expungement
---
id: Criminal History
code: | 
  criminal_history[i].docket_number_2
  criminal_history[i].trial_court_county_2
  criminal_history[i].court_state_0
  criminal_history[i].charge_type_0
  criminal_history[i].offense_date_1
  criminal_history[i].is_conviction_yes_is_conviction_no_1
  criminal_history[i].conviction_date_1
  criminal_history[i].complete = True
---
question: |
  Do you have a prior criminal record?
yesno: prior_record
section: prior_record
---
question: |
  Criminal History
subquestion: |
  List your criminal record including all charges, convictions, stays of adjudication or imposition of sentence and pending actions for misdemeanors, gross misdemeanors or felonies in this state, another state, federal court, or a foreign country, whether the conviction occurred before or after the offense for which expungement is sought.
  
  **List the ${ ordinal(i) } crime:**
fields:
  - Case Number: criminal_history[i].docket_number_2
  - County: criminal_history[i].trial_court_county_2
    code: |
      sorted(the_courts.county_list())
  - State: criminal_history[i].court_state_0
    code: states_list()
  - Charge type: criminal_history[i].charge_type_0 
    choices:
      - Abduction 
      - Abuse of Toxic Substance
      - Adulteration 
      - Adulteration by Bodily Fluid
      - Adultery
      - Aggravated Forgery
      - Aggravated Robbery
      - Aiding an Offender
      - Arson in the First Degree
      - Arson in the Second Degree
      - Arson in the Third Degree
      - Arson in the Fourth Degree
      - Arson in the Fifth Degree
      - Assault in the First Degree
      - Assault in the Second Degree
      - Assault in the Third Degree
      - Assault in the Fourth Degree
      - Assault of Unborn Child in the First Degree
      - Assault of Unborn Child in the Second Degree
      - Assault of Unborn Child in the Third Degree
      - Assaulting or Harming Police Horse
      - Attempt to Coerce
      - Bestiality
      - Bigamy
      - Bribery
      - Bribery of Participant or Official in Contest
      - Bringing Stolen Goods Into State
      - Burglarly
      - Cellular Telephone Counterfeiting
      - Check Forgery; Offering Forged Check
      - Child Torture
      - Civil Disorder
      - Coercion
      - Commercial Bribery
      - Communication of Sexually Explicit Materials to Children
      - Computer Crime
      - Computer Damage
      - Computer Theft
      - Concealing Criminal Proceeds
      - Concealing Identity
      - Conspiracy
      - Corruptly Influencing Legislator
      - Counterfeited Intellectual Property
      - Counterfeiting of Currency
      - Crime Committed for Benefit of Gang
      - Crimes Against Railroad Employees and Property
      - Crimes Against Vulnerable Adults
      - Crimes Committed in Furtherance of Terrorism
      - Crimes Involving Transit; Shooting at Transit Vehicle
      - Criminal Abuse
      - Criminal Defamation
      - Criminal Neglect
      - Criminal Sexual Conduct in the First Degree
      - Criminal Sexual Conduct in the Second Degree
      - Criminal Sexual Conduct in the Third Degree
      - Criminal Sexual Conduct in the Fourth Degree
      - Criminal Sexual Conduct in the Fifth Degree
      - Criminal Sexual Predatory Conduct
      - Criminal Use of Encryption
      - Criminal Use of Real Property
      - Criminal Vehicular Homicide
      - Criminal Vehicular Operation; Bodily Harm
      - Criminal Vehicular Operation; Unborn Child
      - Damage or Theft to Energy Transmission or Telecommunications Equipment
      - Damage to Property
      - Damage to Property of Critical Public Service Facilities, Utilities, and Pipelines
      - Dangerous Weapons
      - Deceptive or Unfair Trade Practices; Elderly or Disabled Victims
      - Depriving Another of Custodial or Parental Rights
      - Disarming Peace Officer
      - Discharging a Later at an Aircraft
      - Disorderly Conduct
      - Disorderly House
      - Domestic Assault
      - Domestic Assault by Strangulation
      - Embezzlement of Public Funds
      - Emergency Communications; Kidnapping
      - Engaging in Business of Concealing Criminal Proceeds
      - Escape from Custody
      - Event Tickets; Prohibited Acts
      - Excluded Fires
      - Explosive and Incendiary Devices
      - Exposing Domestic Animals to Disease
      - Exposure of Unused Refrigerator or Container to Children
      - Facilitating Access to Computer Security System
      - Failure to Appear
      - Failure to Pay Over State Funds
      - Failure to Report
      - False Certification by Notary Public
      - False Fire Alarms; Tampering With or Injuring Fire Alarm System
      - False Imprisonment
      - False Information to Financial Institution
      - False Information to News Media
      - False Tax Statement
      - False Traffic Signal
      - Falsely Impersonating Another
      - Falsely Reporting Child Abuse
      - Falsely Reporting Crime
      - Female Genital Mutilation
      - Financial Exploitation of Vulnerable Adult
      - Financial Transaction Card Fraud
      - Firearms; Removal or Alteration of Serial Number
      - First Degree Burgarly of Dwelling
      - Fleeing Peace Officer; Motor Vehicle; Other
      - Forgery
      - Fornication
      - Fraud in Obtaining Credit
      - Fraudulent Drivers Licenses and Identification Cards
      - Fraudulent or Otherwise Improper Financing Statements
      - Fraudulent Statements
      - Funeral or Burial Service; Prohibited Acts
      - Gambling
      - Great Bodily Harm Caused by Distribution of Drugs
      - Harassment; Restraining Order
      - Harassment; Stalking
      - Harm Caused by Dog
      - Identity Theft
      - Impersonating a Military Service Member, Veteran, or Public Official
      - Impersonating a Peace Officer
      - Incest
      - Injury or Death of Unborn Child in Commission of Crime
      - Insurance Fraud
      - Interference With Dead Body; Reporting
      - Interference With Emergency Communications
      - Interference With Privacy
      - Interference With Property in Official Custody
      - Interfering With Cable Communications Systems
      - Interfering With Internet Ticket Sales
      - Issuance of Dishonored Checks
      - Kidnapping
      - Killing or Harming Public Safety Dog
      - Knowing Transfer of Communicable Disease
      - Labor or Sex Trafficking Crimes
      - Labor Trafficking
      - Lawful Gambling Fraud
      - Leaving State to Evade Establishment of Paternity
      - Letter, Telegram, or Package; Opening; Harassment
      - Loitering With Intent to Participate in Prostitution
      - Machine Guns and Short-Barreled Shotguns
      - Mail Theft
      - Malicious Punishment of Child
      - Manslaughter in the First Degree
      - Manslaughter in the Second Degree
      - Manslaughter of Unborn Child in the First Degree
      - Manslaughter of Unborn Child in the Second Degree
      - Medical Assistance Fraud
      - Misconduct of Judicial or Hearing Officer
      - Misconduct of Junk or Secondhand Dealer
      - Misconduct of Public Officer or Employee
      - Misrepresentation of Service Animal
      - Mistreatment of Persons Confined
      - Mistreatment of Residents or Patients
      - Misusing Credit Card to Secure Services
      - Motor Vehicle Tampering
      - Murder in the First Degree
      - Murder in the Second Degree
      - Murder in the Third Degree
      - Murder of Unborn Child in the First Degree
      - Murder of Unborn Child in the Second Degree
      - Murder of Unborn Child in the Third Degree
      - Neglect or Endangerment of Child
      - Negligent Fires; Dangerous Smoking
      - Negligent Storage of Firearms
      - Obscene or Harassing Telephone Calls
      - Obstructing Legal Process, Arrest, or Firefighting
      - Obtaining Signature by False Pretense
      - Patrons; Prostitutes; Housing Individuals Engaged in Prostitution
      - Perjury
      - Permissive Inference; Firearms in Automobiles
      - Permitting False Claims Against Government
      - Permitting Public Nuisance
      - Physical Interference With Safe Access to Health Care
      - Possession of Burglarly or Theft Tools
      - Possession of Code-Grabbing Devices
      - Possession of Shoplifting Gear
      - Possession or Sale of Stolen or Counterfeit Check
      - Precious Metal and Scrap Metal Dealers; Receiving Stolen Property
      - Presence at Unlawful Assembly
      - Presenting False Claims to Public Officer or Body
      - Prostitution and Sex Trafficking
      - Prostitution Crimes Committed in School or Park Zones
      - Public Nuisance
      - Public Office; Illegally Assuming; Nonsurrender
      - Public Officer; Unauthorized Compensation
      - Racketeering
      - Real and Simulated Weapons of Mass Destruction
      - Receiving Stolen Property
      - Recording, Filing of Forged Instrument
      - Release; Failure to Appear
      - Residential Mortgage Fraud
      - Riot
      - Rustling and Livestock Theft
      - Sale of Nicotine Delivery Products to Persons Under Age 21
      - Sale of Tobacco to Persons Under Age 21
      - Sexual Exortion
      - Simple Robbery
      - Simulating Legal Process
      - Sodomy
      - Soliciation of Children to Engage in Sexual Conduct
      - Soliciation of Juveniles
      - Soliciation of Mentally Impaired Persons
      - Solicitation, Inducement, and Promotion of Prostitution; Sex Trafficking
      - State Lottery Fraud
      - Tampering With Witness
      - Telecommunications and Information Service Fraud
      - Theft
      - Threats of Violence
      - Treason
      - Trespass
      - Trespass on Critical Public Service Facility; Utility; or Pipeline
      - Unauthorized Computer Access
      - Unauthorized Release of Animals
      - Unlawful Assembly
      - Unlawful Conduct With Respect to Documents in Furtherance of Labor or Sex Trafficking
      - Unlawful Deposit of Garbage, Litter, or Like
      - Unlawful Ouster or Exclusion
      - Unlawful Smoking
      - Use of Drugs to Injure or Facilitate Crime
      - Use of Ignition Devices
      - Use of Police Radios During Commission of Crime
      - Warning Subject of Investigation
      - Warning Subject of Surveillance or Search
      - Wildfire Arson
      - Wrongful Employment at a Child Care Center
  - Offense date: criminal_history[i].offense_date_1
    datatype: date
    max: ${ today() }
  - Conviction?: criminal_history[i].is_conviction_yes_is_conviction_no_1
    datatype: yesnoradio
  - Conviction date: criminal_history[i].conviction_date_1
    datatype: date
    max: ${ today() }
---
question: |
  Do you have any others to add?
yesno: criminal_history.there_are_any
---
question: |
  Are there any others?
yesno: criminal_history.there_is_another
---
id: Prior Expungement Requests 
Continue button field: prior_expungement_requests
question: |
  Prior Expungement Requests
subquestion: |
  List all prior requests for expungement, pardon or sealing of a criminal record, whether for this
  offense or for any other offense, whether granted or not. Write "N/A" if you have not made a prior     expungement request.
fields: 
  - "no label": prior_expungement_requests
    required: True
    input type: area
section: prior_expungement_requests
---
id: I qualify for expungement because
Continue button field: qualify_because
question: |
  I qualify for expungement because:
fields:
  - "A criminal case against me for a controlled substance violation has been dismissed and and the proceedings have been discharged": is_dismissed
    datatype: yesno
  - "I was certified or referenced for prosecution as an adult for a crime I committed when I was a juvenile": is_juvenile
    datatype: yesno
  - "A criminal matter was resolved in my favor": is_expunged
    datatype: yesno
  - "I successfully completed the terms of a diversion program or stay of adjudication and have not been charged with a new crime for at least one year since completion of the diversion program or stay of adjudication": is_programming
    datatype: yesno
  - "I was convicted of or received a stayed sentence for a petty misdemeanor or misdemeanor and have not been convicted of a new crime for at least two years since discharge of the sentence for the crime": is_petty_misdemeanor
    datatype: yesno
  - "I was convicted of or received a stayed sentence for a gross misdemeanor and have not been convicted of a new crime for at least four years since discharge of the sentence for the crime": is_gross_misdemeanor
    datatype: yesno
  - "I was convicted of or received a stayed sentence for a felony violation of an offense listed in Minn. Stat. § 609A.02, subd. 3(b), and have not been convicted of a new crime for at least five years since discharge of the sentence for the crime": is_felony
    datatype: yesno
  - "I was convicted of an offense that does not qualify for expungement under Minn. Stat. § 609A.02, subd. 3, but I have rehabilitated myself. The benefit to me outweighs the disadvantage to the public and the burden on the court": is_not_expungeable
    datatype: yesno
validation code: |
  if not (is_dismissed or is_juvenile or is_expunged or is_programming or is_petty_misdemeanor or is_gross_misdemeanor or is_felony or is_not_expungeable):
    validation_error(word("You need to select at least one item."))
section: qualify_because
---
id: Offense I want to expunge
Continue button field: offense_to_expunge
question: |
  The details of the offense I want to expunge are:
fields:
  - "Jurisdiction / City where the offense occurred": offense_address_city
    maxlength: 34
  - "Type of Offense": offense_type
    maxlength: 49
  - "Date of offense": offense_date
    datatype: date
    max: ${ today() }
  - "Outcome": dismissal_Date_of_conviction_or_dismissal_1
    datatype: checkboxes
    choices:
      - Conviction
      - Dismissal
    minlength: 1
  - "Date of conviction/dismissal": conviction_dismissal_date
    datatype: date
    max: ${ today() }
  - "Date of discharge from probation/completion of diversion or stay": discharge_probation_date
    datatype: date
    max: ${ today() }
section: offense_to_expunge
---
id: Victim information
Continue button field: victim_info
code: |
  victim_info[i].name.first
  victim_info[i].name.last
  victim_info[i].complete = True
---
question: |
  Were there any identifiable victims in this case?
yesno: identifiable_victim
section: victim_info
---
question: |
  What is the name of the ${ ordinal(i) } victim?
fields:
  - First Name: victim_info[i].name.first
  - Last Name: victim_info[i].name.last
---
question: |
  Do you have any others to add?
yesno: victim_info.there_are_any
---
question: |
  Would you like to add another name?
yesno: victim_info.there_is_another
---
id: OFP
Continue button field: protective_order
question: |
  Protective Order
subquestion: |
  Is there a current or prior order for protection, restraining order or other no contact order prohibiting me from contacting the victims?
fields:
  - "no label": is_ofp
    datatype: yesnoradio
section: is_ofp
---
id: Personal rehabilitation
Continue button field: personal_improvement
question: |
  Personal Rehabilitation
fields: 
  - "Since this conviction or offense, I have taken the following steps toward personal rehabilitation, including treatment, work, community involvement, or other personal steps": personal_improvement
    input type: area
  - "Explain any mitigating or aggravating factors relating to the underlying crime, including your level of participation, the context and circumstances of the underlying crime and what risk, if any, you pose to individuals or society": mitigating_aggravating_factors
    input type: area
section: personal_improvement
---
id: Additional requests
Continue button field: additional_requests
question: |
  Additional Requests
fields: 
  - "I request that the court seal any private or confidential data submitted by the responding agencies or jurisdictions": is_confidential
    datatype: yesno
  - "I request that if expungement is ordered, each agency and jurisdiction that receives the order must send a letter to me at the address provided confirming receipt of the expungement order and that the record has been expunged": is_receipt_requested
    datatype: yesno
section: additional_requests
# Assembly Line code insert of court and contact info. here
---
code: |
  if the_courts.county_has_one_court(the_county):
    my_court = the_courts.county_court("my_court", the_county)
  else:
    court_index
    my_court = the_courts.as_court("my_court", court_index)
---
id: Filing Court
continue button field: filing_court
question: |
  What court do you want to file in?
fields:
  - Pick a court: the_county
    code: sorted(the_courts.county_list())
section: filing_court
---
question: |
  There is more than one court in your county. Pick the court below.
fields:
  - "no label": court_index
    #code: sorted(the_courts.county_list())
    code: the_courts.matching_courts_in_county(the_county)
---
continue button field: display_court
question: |
  You selected "${ my_court }"
subquestion: |
  ${ my_court.address.block() }
---
id: your contact information
continue button field: contact_info
question: |
  What is your contact information?
subquestion: |
  Include at least **one** way to reach you other than by mail.

  ${ collapse_template(why_contact_info_needed_template) }
fields:  
  - Mobile number: users[0].mobile_number
    required: False
  #phone_number = phone_number_formatted(phone_number)
  - Other phone number: users[0].phone_number
    required: False
  - Email address: users[0].email    
    datatype: email
    required: False
  - Other ways to reach you: users[0].other_contact_method
    input type: area
    required: False
    help: |
      If you do not have a phone number or email, provide
      specific contact instructions. For example, use a friend's phone number.
      But the friend must be someone you can rely on to give you a
      message.
validation code: |
  if not phone_number_is_valid(users[0].mobile_number):
    validation_error("Please enter a phone number in the format (xxx) xxx-xxxx", field="users[0].mobile_number")
  if not phone_number_is_valid(users[0].phone_number):
    validation_error("Please enter a phone number in the format (xxx) xxx-xxxx", field="users[0].phone_number")
  if (not showifdef('users[0].phone_number') and \
      (not showifdef('users[0].mobile_number')) and \
      (not showifdef('users[0].email')) and \
      (not showifdef('users[0].other_contact_method'))):
    validation_error(word("You need to provide at least one contact method."), field="users[0].other_contact_method")
section: contact_info
---
id: preview EXP102
question: |
  Preview your form before you sign it
subquestion: |
  Here is a preview of the form you will sign on the next page.   
  
  ${ al_court_bundle.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_EXP102'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue and sign your form.
continue button field: EXP102_preview_question    
---
code: |
  signature_fields = ['users[0].signature']
---
code: |
  # This is a placeholder for the addresses that will be searched
  # for matching address to court. Edit if court venue is based on 
  # a different address than the user's
  addresses_to_search = [user.address for user in users]
---
id: EXP102 review screen
event: review_EXP102
question: |
  Review your answers
review:
  - Edit: trial_court_district
    button: |
      **Judicial District**:
      ${ trial_court_district }
  - Edit: docket_number
    button: |
      **Court File Number**:
      ${ docket_number }
  - Edit: trial_court_county_1
    button: |
      **County**:
      ${ trial_court_county_1 }
  - Edit: defendant_name
    button: |
      **Defendent (first, middle, last)**:
      ${ defendent_name }
  - Edit: hearing_date
    button: |
      **Hearing date**:
      ${ hearing_date }
  - Edit: hearing_time
    button: |
      **Hearing time**:
      ${ hearing_time }
  - Edit: trial_court
    button: |
      **trial_court**
      % if defined("trial_court.address.county"):
      * address: ${ trial_court.address.block() }
      % endif
  - Edit: users_other[0]
    button: |
      **Users other name full**:
      ${ users_other[0] }
  - Edit: users.revisit
    button: |
      **Users**
      % for item in users:
        * ${ item }
      % endfor
  - Edit: users[0].address.address
    button: |
      **Current Address**:
      ${ users[0].address.address }
  - Edit: location.revisit
    button: |
      **Additional Address 1**:
      ${ location }
  - Edit: reason_for_expungement
    button: |
      **Reasons for Expungement**:
      > ${ single_paragraph(reason_for_expungement) }
  - Edit: docket_number_2
    button: |
      **Case Number**:
      ${ docket_number_2 }
  - Edit: trial_court_county_2
    button: |
      **County**:
      ${ trial_court_county_2 }
  - Edit: trial_court_state_0
    button: |
      **State**:
      ${ trial_court_state_0 }
  - Edit: charge_type_0
    button: |
      **Charge type**:
      ${ charge_type_0 }
  - Edit: offense_date_1
    button: |
      **Offense date**:
      ${ offense_date_1 }
  - Edit: is_conviction_yes_is_conviction_no_1
    button: |
      **Conviction Yes/No**:
      ${ is_conviction_yes_is_conviction_no_1 }
  - Edit: conviction_date_1
    button: |
      **Conviction date**:
      ${ conviction_date_1 }
  - Edit: prior_expungement_requests
    button: |
      **Prior Expungement Requests**:
      > ${ single_paragraph(prior_expungement_requests) }
  - Edit: is_dismissed
    button: |
      **A criminal case against me for a controlled substance violation has been dismissed and and the proceedings have been discharged**:
      ${ word(yesno(is_dismissed)) }
  - Edit: is_juvenile
    button: |
      **I was certified or referenced for prosecution as an adult for a crime I committed when I was a juvenile**:
      ${ word(yesno(is_juvenile)) }
  - Edit: is_expunged
    button: |
      **A criminal matter was resolved in my favor**:
      ${ word(yesno(is_expunged)) }
  - Edit: is_programming
    button: |
      **I successfully completed the terms of a diversion program or stay of adjudication and have not been charged with a new crime for at least one year since completion of the diversion program or stay of adjudication**:
      ${ word(yesno(is_programming)) }
  - Edit: is_petty_misdemeanor
    button: |
      **I was convicted of or received a stayed sentence for a petty misdemeanor or misdemeanor and have not been convicted of a new crime for at least two years since discharge of the sentence for the crime**:
      ${ word(yesno(is_petty_misdemeanor)) }
  - Edit: is_gross_misdemeanor
    button: |
      **I was convicted of or received a stayed sentence for a gross misdemeanor and have not been convicted of a new crime for at least four years since discharge of the sentence for the crime**:
      ${ word(yesno(is_gross_misdemeanor)) }
  - Edit: is_felony
    button: |
      **I was convicted of or received a stayed sentence for a felony violation of an offense listed in Minn. Stat. § 609A.02, subd. 3(b), and have not been convicted of a new crime for at least five years since discharge of the sentence for the crime**:
      ${ word(yesno(is_felony)) }
  - Edit: is_not_expungeable
    button: |
      **I was convicted of an offense that does not qualify for expungement under Minn. Stat. § 609A.02, subd. 3, but I have rehabilitated myself. The benefit to me outweighs the disadvantage to the public and the burden on the court**:
      ${ word(yesno(is_not_expungeable)) }
  - Edit: docket_number
    button: |
      **Docket number**:
      ${ docket_number }
  - Edit: offense_address_city
    button: |
      **Jurisdiction / City where the offense occurred**:
      ${ offense_address_city }
  - Edit: offense_type
    button: |
      **Type of Offense**:
      ${ offense_type }
  - Edit: offense_date
    button: |
      **Date of offense**:
      ${ offense_date }
  - Edit: is_conviction_yes_is_conviction_no_1
    button: |
      **Conviction**:
      ${ word(yesno(is_conviction_yes_is_conviction_no_1)) }
  - Edit: conviction_date_1
    button: |
      **Dismissal**:
      ${ word(yesno(conviction_date_1)) }
  - Edit: discharge_probation_date
    button: |
      **Date of discharge from probation/completion of diversion or stay**:
      ${ discharge_probation_date }
  - Edit: victim_info
    button: |
      **Victim Name(s)**:
      ${ victim_info }
  - Edit: is_ofp
    button: |
      **There is current or prior order for protection, restraining order or other no contact order prohibiting me from contacting the victims**:
      ${ word(yesnoradio(is_ofp)) }
  - Edit: personal_improvement
    button: |
      **Steps toward personal rehabilitation, including treatment, work, community involvement, or other personal history**:
      > ${ single_paragraph(personal_improvement) }
  - Edit: is_confidential
    button: |
      **I request that the court seal any private or confidential data submitted by the responding agencies or jurisdictions**:
      ${ word(yesno(is_confidential)) }
  - Edit: is_receipt_requested
    button: |
      **I request that if expungement is ordered, each agency and jurisdiction that receives the order must send a letter to me at the address provided confirming receipt of the expungement order and that the record has been expunged**:
      ${ word(yesno(is_receipt_requested)) }
  - Edit: mitigating_aggravating_factors
    button: |
      **Explain any mitigating or aggravating factors relating to the underlying crime, including your level of participation, the context and circumstances of the underlying crime and what risk, if any, you pose to individuals or society**:
      > ${ single_paragraph(mitigating_aggravating_factors) }
  - Edit: signature_date
    button: |
      **Date of signature**:
      ${ signature_date }
  - Edit: trial_court_state
    button: |
      **Trial court state**:
      ${ trial_court_state }
  - Edit: alias_name
    button: |
      **Other legal names or aliases**:
      ${ alias_name }
---
continue button field: location.revisit
question: |
  Edit location
subquestion: |
  ${ location.table }
  
  ${ location.add_action() }
---
continue button field: users.revisit
question: |
  Edit users
subquestion: |
  ${ users.table }

  ${ users.add_action() }
---
continue button field: criminal_history.revisit
question: |
  Edit criminal history
subquestion: |
  ${ criminal_history.table }

  ${ criminal_history.add_action() }
---
continue button field: alias_name.revisit
question: |
  Edit alias name
subquestion: |
  ${ alias_name.table }
  
  ${ alias_name.add_action() }
---
continue button field: victim_info.revisit
question: |
  Edit Victim Information
subquestion: |
  ${ victim_info.table }
  
  ${ victim_info.add_action() }
---
table: users.table
rows: users
columns:
  - Birthdate: |
      row_item.birthdate if defined("row_item.birthdate") else ""
  - Signature: |
      row_item.signature if defined("row_item.signature") else ""
  - Address: |
      row_item.address.block() if defined("row_item.address.address") else ""
  - Phone number: |
      row_item.phone_number if defined("row_item.phone_number") else ""
  - Email: |
      row_item.email if defined("row_item.email") else ""
edit:
  - birthdate
  - signature
  - address.address
  - phone_number
  - email
confirm: True
---
table: location.table
rows: location
columns:
  - Address: |
      row_item.address.block() if defined("row_item.address.address") else ""
edit:
  - address.address
confirm: True
---
table: criminal_history.table
rows: criminal_history
columns:
  - Case Number: |
      row_item.docket_number_2 if defined("row_item.docket_number_2") else ""
  - State: |
      row_item.trial_court_state_0 if defined("row_item.trial_court_state_0") else ""
  - County: |
      row_item.trial_court_county_2 if defined("row_item.trial_court_county_2") else ""
  - Charge Type: |
      row_item.charge_type_0 if defined("row_item.charge_type_0") else ""
  - Offense Date: |
      row_item.offense_date_1 if defined("row_item.offense_date_1") else ""
  - Conviction: |
      row_item.is_conviction_yes_is_conviction_no_1 if defined("row_item.is_conviction_yes_is_conviction_no_1") else ""
  - Conviction Date: |
      row_item.conviction_date_1 if defined("row_item.conviction_date_1") else ""
edit:
  - docket_number_2
  - trial_court_state_0
  - trial_court_county_2
  - charge_type_0
  - offense_date_1
  - is_conviction_yes_is_conviction_no_1
  - conviction_date_1
confirm: True
---
table: alias_name.table
rows: alias_name
columns:
  - First Name: |
      row_item.alias_name if defined("row_item.alias_name") else ""
  - Last Name: |
      row_item.alias_name if defined("row_item.alias_name") else ""
edit:
  - alias_name.name.first
  - alias_name.name.last
confirm: True
---
table: victim_info.table
rows: victim_info
columns:
  - First Name: |
      row_item.victim_info[i].name.first if defined("row_item.victim_info") else ""
  - Last Name: |
      row_item.victim_info[i].name.last if defined("row_item.victim_info") else ""
edit:
  - victim_info
  - victim_info
confirm: True
---
id: download EXP102
event: EXP102_download
question: |
  All done
subquestion: |
  Thank you ${users}. Your form is ready to download and deliver.
  
  View, download and send your form below. Click the "Edit answers" button to fix any mistakes.

  ${ action_button_html(url_action('review_EXP102'), label='Edit answers', color='info') }
  
  
  ${ al_user_bundle.download_list_html() }
  

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }

progress: 100
---
objects:
  - EXP102_post_interview_instructions: ALDocument.using(title="Instructions", filename="EXP102_next_steps.docx", enabled=True, has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  - EXP102_attachment: ALDocument.using(title="Notice of Hearing and Petition for Expungement", filename="EXP102_Notice_of_Hearing_and_Petition_for_crim_expungement.pdf", enabled=True, has_addendum=True, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[EXP102_post_interview_instructions,EXP102_attachment], filename="EXP102_Notice_of_Hearing_and_Petition_for_crim_expungement.pdf_package.pdf", title="All forms to download for your records", enabled=True)
  - al_court_bundle: ALDocumentBundle.using(elements=[EXP102_attachment], filename="EXP102_Notice_of_Hearing_and_Petition_for_crim_expungement.pdf_package.pdf", title="All forms to download for your records", enabled=True)
---
attachments:
  - name: EXP102 post interview instructions
    filename: Post-interview-instructions     
    variable name: EXP102_post_interview_instructions[i]        
    skip undefined: True
    docx template file: EXP102_next_steps.docx
  - name: EXP102 attachment
    filename: EXP102_Notice_of_Hearing_and_Petition_for_crim_expungement.pdf 
    variable name: EXP102_attachment[i]        
    skip undefined: True
    pdf template file: EXP102_Notice_of_Hearing_and_Petition_for_crim_expungement.pdf 
    fields:
      - "trial_court_district": |
          % if trial_court_county_1 in ["Carver", "Dakota", "Goodhue", "Le Sueur", "McLeod", "Scott", "Sibley", "Dakota"]:
            First Judicial District
          % elif trial_court_county_1 in ["Ramsey"]:
            Second Judicial District
          % elif trial_court_county_1 in ["Dodge", "Fillmore", "Freeborn", "Houston", "Mower", "Olmsted", "Rice", "Steele", "Wabasha", "Waseca", "Winona"]:
            Third Judicial District
          % elif trial_court_county_1 in ["Hennepin"]:
            Fourth Judicial District
          % elif trial_court_county_1 in ["Brown", "Cottonwood", "Faribault", "Jackson", "Lincoln", "Lyon", "Martin", "Murray", "Nicollet", "Nobles", "Pipestone", "Redwood", "Rock", "Watonwan"]:
            Fifth Judicial District
          % elif trial_court_county_1 in ["Carlton", "Cook", "Lake", "St. Louis"]:
            Sixth Judicial District
          % elif trial_court_county_1 in ["Becker", "Benton", "Clay", "Douglas", "Mille Lacs", "Morrison", "Otter Tail", "Stearns", "Todd", "Wadena"]:
            Seventh Judicial District
          % elif trial_court_county_1 in ["Big Stone", "Chippewa", "Grant", "Kandiyohi", "Lac qui Parle", "Meeker", "Pope", "Renville", "Stevens", "Swift", "Traverse", "Wilkin", "Yellow Medicine"]:
            Eighth Judicial District
          % elif trial_court_county_1 in ["Aitkin", "Beltrami", "Cass", "Clearwater", "Crow Wing", "Hubbard", "Itasca", "Kittson", "Koochiching", "Lake of the Woods", "Mahnomen", "Marshall", "Norman", "Pennington", "Polk", "Red Lake", "Roseau"]:
            Ninth Judicial District
          % endif
      - "docket_number_1": ${ docket_number_1 }
      - "trial_court_county_1": ${ trial_court_county_1 }
      - "users_name_full1": ${ users_name_full1 }
      - "hearing_date": ${ hearing_date }
      - "hearing_time": ${ hearing_time }
      - "trial_court_address_on_one_line": ${ trial_court.address.on_one_line() }
      - "users_other_name_full": ${ users_other[0] }
      - "users_birthdate": ${ users[0].birthdate.format() }
      - "users_address_on_one_line_1": ${ users_address_on_one_line_1 }
      - "location": ${ location }
      - "reason_for_expungement": ${EXP102_attachment.safe_value("reason_for_expungement")}
      - "docket_number_2": ${ docket_number_2 }
      - "trial_court_county_2": ${ trial_court_county_2 }
      - "trial_court_state_0": ${ trial_court_state_0 }
      - "charge_type_0": ${ charge_type_0 }
      - "offense_date_1": ${ offense_date_1 }
      - "is_conviction_yes is_conviction_no_1": ${ is_conviction_yes_is_conviction_no_1 }
      - "conviction_date_1": ${ conviction_date_1 }
      - "charge_type_2": ${ charge_type_2 }
      - "prior_expungement_requests": ${EXP102_attachment.safe_value("prior_expungement_requests")}
      - "is_dismissed": ${ is_dismissed }
      - "is_juvenile": ${ is_juvenile }
      - "is_expunged": ${ is_expunged }
      - "is_programming": ${ is_programming }
      - "is_petty_misdemeanor": ${ is_petty_misdemeanor }
      - "is_gross_misdemeanor": ${ is_gross_misdemeanor }
      - "is_felony": ${ is_felony }
      - "is_not_expungeable": ${ is_not_expungeable }
      - "docket_number": ${ docket_number }
      - "offense_address_city": ${ offense_address_city }
      - "offense_type": ${ offense_type }
      - "offense_date": ${ offense_date }
      - "conviction or a": ${ conviction_or_a }
      - "dismissal Date of conviction or dismissal_1": ${ dismissal_Date_of_conviction_or_dismissal_1 }
      - "conviction_dismissal_date": ${ conviction_dismissal_date }
      - "discharge_probation_date": ${ discharge_probation_date }
      - "other_parties_name_full_1": ${ other_parties_name_full_1 }
      - "is_not_victim": ${ is_not_victim }
      - "other_parties_name_full_2": ${ other_parties_name_full_2 }
      - "is_ofp": ${ is_ofp }
      - "personal_improvement": ${EXP102_attachment.safe_value("personal_improvement")}
      - "is_confidential": ${ is_confidential }
      - "is_receipt_requested": ${ is_receipt_requested }
      - "mitigating_aggravating_factors": ${EXP102_attachment.safe_value("mitigating_aggravating_factors")}
      - "users1_signature": ${ users[0].signature_if_final(i) }
      - "signature_date": ${ signature_date }
      - "trial_court_county": ${ trial_court.address.county }
      - "trial_court_state": ${ trial_court_state }
      - "users_name_full2": ${ users_name_full2 }
      - "users_address_line_one": ${ users[0].address.line_one() }
      - "users_address_line_two": ${ users[0].address.line_two() }
      - "users_phone_number": ${ users[0].phone_number }
      - "users_email": ${ users[0].email }
---
code: |
  EXP102_attachment.overflow_fields["reason_for_expungement"].overflow_trigger = 525
  EXP102_attachment.overflow_fields["reason_for_expungement"].label = "Reasons for Expungement"
  EXP102_attachment.overflow_fields["prior_expungement_requests"].overflow_trigger = 518
  EXP102_attachment.overflow_fields["prior_expungement_requests"].label = "Prior Expungement Requests"
  EXP102_attachment.overflow_fields["personal_improvement"].overflow_trigger = 518
  EXP102_attachment.overflow_fields["personal_improvement"].label = "Steps toward personal rehabilitation, including treatment, work, community involvement, or other personal history"
  EXP102_attachment.overflow_fields["mitigating_aggravating_factors"].overflow_trigger = 525
  EXP102_attachment.overflow_fields["mitigating_aggravating_factors"].label = "Explain any mitigating or aggravating factors relating to the underlying crime, including your level of participation, the context and circumstances of the underlying crime and what risk, if any, you pose to individuals or society"
  EXP102_attachment.overflow_fields.gathered = True
